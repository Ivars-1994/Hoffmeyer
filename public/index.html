<!doctype html>
<html lang="de">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KTVFNWPH');
    </script>
    <!-- End Google Tag Manager -->

    <!--  ClickCease.com tracking-->
    <script type='text/javascript'>var script = document.createElement('script');
    script.async = true; script.type = 'text/javascript';
    var target = 'https://www.clickcease.com/monitor/stat.js';
    script.src = target;var elem = document.head;elem.appendChild(script);
    </script>
    <noscript>
    <a href='https://www.clickcease.com' rel='nofollow'><img src='https://monitor.clickcease.com' alt='ClickCease'/></a>
    </noscript>
    <!--  ClickCease.com tracking-->

    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kammerj√§ger Schneider - Professionelle Sch√§dlingsbek√§mpfung</title>
    <meta name="description" content="Kammerj√§ger Schneider - Schnelle & diskrete Sch√§dlingsbek√§mpfung. 24/7 Notdienst. IHK-zertifiziert. Faire Preise. ‚úì Wespen ‚úì Bettwanzen ‚úì Ungeziefer" />
    <meta name="keywords" content="Kammerj√§ger, Sch√§dlingsbek√§mpfung, Ungeziefer, Wespen, Bettwanzen, Notdienst" />
    <meta name="author" content="Kammerj√§ger Schneider" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://kammerjaeger-adalbert.de" />
    
    <!-- Open Graph -->
    <meta property="og:title" content="Kammerj√§ger Schneider - Professionelle Sch√§dlingsbek√§mpfung" />
    <meta property="og:description" content="Schnelle & diskrete Sch√§dlingsbek√§mpfung. 24/7 Notdienst verf√ºgbar." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kammerjaeger-adalbert.de" />
    <meta property="og:image" content="/og-image.png" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Kammerj√§ger Schneider - Professionelle Sch√§dlingsbek√§mpfung" />
    <meta name="twitter:description" content="Schnelle & diskrete Sch√§dlingsbek√§mpfung. 24/7 Notdienst verf√ºgbar." />

    <!-- Google Ads -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16458367327"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-16458367327');
    </script>

    <!-- Conversion tracking function -->
    <script>
      function gtag_report_conversion(url) {
        var callback = function () {
          if (typeof(url) != 'undefined') {
            window.location = url;
          }
        };
        gtag('event', 'conversion', {
          'send_to': 'AW-16458367327/uNzYCJ34_O8ZEOq8hpo9',
          'event_callback': callback
        });
        return false;
      }
    </script>

    <!-- Fingerprint2 - Temporarily disabled due to loading issues -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>
    <script>
      FingerprintJS.load()
        .then(fp => fp.get())
        .then(result => {
          const visitorId = result.visitorId;
          if (typeof gtag !== 'undefined') {
            gtag('config', 'AW-16458367327', {
              'custom_map': {'dimension1': 'fp_visitor_id'}
            });
            gtag('event', 'page_view', {
              'fp_visitor_id': visitorId
            });
          }
        })
        .catch(error => {
          console.error("Error getting Fingerprint visitor ID:", error);
        });
    </script>
    -->
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KTVFNWPH"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Smart Location Detection Script -->
    <script>
    (function() {
      // ---- Helper ----
      function qp(name){
        const v = new URLSearchParams(location.search).get(name);
        return v ? v.trim() : "";
      }
      function cleanCity(raw){
        // Erlaubt Buchstaben/Leerzeichen/Bindestrich/Umlaute/√ü, max. 40 Zeichen
        if(!raw) return "";
        const v = raw.replace(/[^a-zA-Z√§√∂√º√Ñ√ñ√ú√ü \-]/g,"").substring(0,40).replace(/\s+/g," ").trim();
        return v;
      }
      function cleanKw(raw){
        if(!raw) return "";
        // Entfernt nur kritische Zeichen; l√§sst W√∂rter stehen
        const v = raw.replace(/[<>"]/g,"").substring(0,80).trim();
        return v;
      }
      function titleCase(s){
        return s.replace(/\w\S*/g, t => t.charAt(0).toUpperCase()+t.slice(1));
      }

      // ---- Read params ----
      const cityParam = cleanCity(qp("city"));
      const kwParam   = cleanKw(qp("kw"));

      // ---- Build texts ----
      // Service aus Keyword ableiten (sehr simple Heuristik)
      // Optional: mappe bekannte Services sauber aus
      const serviceMap = [
        {pat:/wesp/i,        label:"Wespennest entfernen"},
        {pat:/bettwan/i,     label:"Bettwanzen bek√§mpfen"},
        {pat:/ratten/i,      label:"Ratten bek√§mpfen"},
        {pat:/m(√§|ae)use/i,  label:"M√§use bek√§mpfen"},
        {pat:/ameis/i,       label:"Ameisen bek√§mpfen"},
        {pat:/silberfisch/i, label:"Silberfische bek√§mpfen"},
        {pat:/marder/i,      label:"Marder vertreiben"},
        {pat:/floeh|fl√∂he/i, label:"Fl√∂he bek√§mpfen"},
        {pat:/schaben|kaker/i,label:"Schaben bek√§mpfen"}
      ];
      function inferService(kw){
        if(!kw) return "";
        for(const m of serviceMap){ if(m.pat.test(kw)) return m.label; }
        return ""; // generisch lassen, wenn nix matcht
      }
      const service = inferService(kwParam);

      // ---- Apply to DOM ----
      document.addEventListener("DOMContentLoaded", function(){
        const h1  = document.getElementById("city-headline");
        const sub = document.getElementById("service-subline");
        const cta = document.getElementById("cta-button");

        // H1: bevorzugt "Service in Stadt", sonst "Kammerj√§ger Stadt"
        if (h1) {
          if (cityParam && service) {
            h1.textContent = `${service} in ${titleCase(cityParam)} ‚Äì Soforthilfe 24/7`;
          } else if (cityParam) {
            h1.textContent = `Kammerj√§ger ${titleCase(cityParam)} ‚Äì Soforthilfe 24/7`;
          }
          // Falls nichts kommt, bleibt dein Standard-H1 stehen
        }

        if (sub && cityParam) {
          sub.textContent = `Schnelle & diskrete Sch√§dlingsbek√§mpfung in ${titleCase(cityParam)}.`;
        }

        if (cta) {
          // Nummer bleibt gleich ‚Äì Text wird lokalisiert
          if (cityParam) cta.textContent = `üìû Jetzt anrufen ‚Äì Hilfe in ${titleCase(cityParam)}`;
        }

        // Hidden fields f√ºr CRM/Analytics
        const leadCity = document.getElementById("lead-city");
        const leadKw   = document.getElementById("lead-keyword");
        if (leadCity && cityParam) leadCity.value = cityParam;
        if (leadKw   && kwParam)   leadKw.value   = kwParam;

        // Optional: GA4 Event (falls gtag vorhanden)
        if (window.gtag) {
          gtag('event', 'lp_localize', { city: cityParam || '(none)', kw: kwParam || '(none)' });
        }
      });
    })();
    </script>
    
  </body>
</html>